# React Router

-   Routing: Different URL paths load different things
-   On static websites it was achieved by sending a different `HTML` files when a different route was used
-   React can handle URL changes with client side code without fetching a new `HTML`

## Setup

-   On an existing app install [the package](https://reactrouter.com/en/main/start/tutorial)
    ```SHELL
    npm install react-router-dom
    ```
-   Then we'll need to configure our `Router`

    ```TSX
    import { createBrowserRouter, RouterProvider } from "react-router-dom";
    import Home from "./pages/Home";
    import Artists from "./pages/Artists";
    import NotFound from "./pages/NotFound";

    // First we need to configure our routes.
    // We use createBrowserRouter() to create a router with a list of routes.
    const router = createBrowserRouter([
        {
            path: "/", element: <Home />,
        },
        {
            path: "/artists", element: <Artists />,
        },
        {
            path: "*", element: <NotFound />,
        },
    ]);

    // And with the RouterProvider we inject our routes to our App
    export default function App(): JSX.Element {
        return (
            <RouterProvider router={router} />
        );
    }
    ```

-   Alternatively you can create routes using JSX

    ```JSX
    const routeDefinitions = createRoutesFromElements(
        <Route>
            <Route path="/" element={<Home />} />
        </Route>
    )
    const router = createBrowserRouter(routeDefinitions);
    export default function App(): JSX.Element {
        return (
            <RouterProvider router={router} />
        );
    }
    ```

## Features

-   Route navigation

    -   Don't use `<a>` since affects perfonmance by sending a new `HTTP` request
    -   Use the `<Link>` component to navigate between pages instead

        ```TSX
        import { Link } from "react-router-dom";

        export default function Home(): JSX.Element {
            return (
                <>
                    <h1>Home</h1>
                    <p>Go to <Link to="/artists">Artists</Link> page</p>
                </>
            );
        }
        ```

    -   Nesting routes

        ```TSX
        // Layout
        import { Outlet } from 'react-router-dom';
        import Nav from './Nav';

        // The outlet element will allow us to add dynamic routing maintainig other components in the layout
        export default function Layout() {
            return (
                <>
                    <Nav />
                    <Outlet />
                </>
            );
        }
        ```

        ```TSX
        import { createBrowserRouter, RouterProvider } from "react-router-dom";
        import Home from "./pages/Home";
        import Artists from "./pages/Artists";
        import NotFound from "./pages/NotFound";
        import Layout from "./components/Layout";
        // Now we can nest the routes inside the parent element with the <Outlet />
        const router = createBrowserRouter([
        {
            path: "/", element: <Layout />,
            children: [
            {
                path: "/", element: <Home />,
            },
            {
                path: "/artists", element: <Artists />,
            },
            {
                path: "*", element: <NotFound />,
            },
            ]
        },
        ]);

        export default function App(): JSX.Element {
        return (
            <RouterProvider router={router} />
        );
        }
        ```
