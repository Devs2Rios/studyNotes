# React + Typescript

-   Typescript is built on top of JavaScript, like a wrapper
-   It adds static typing to js

    ```JS
    // JavaScript
    const add = (a, b) => a + b;
    console.log(add(1, 2)); // 3
    console.log(add('1', 2)); // 12
    ```

    ```TS
    // Typescript
    const add = (a: number, b: number): number => a + b;
    console.log(add(1, 2)); // 3
    console.log(add('1', 2)); // Argument of type 'string' is not assignable to parameter of type 'number'.
    ```

-   It's complied in JS so it's an interpreted language
    -   During compilation type annotations are removed

## Installing

-   We need to install it with our preferred package manager
    ```SHELL
    mkdir dirname
    cd dirname
    npm init -y
    npm install typescript
    ```
-   Then we can create a file and check if it's compiling it (it will need the `tsconfig.json` file)
    -   Create the config file
        ```SHELL
        ./node_modules/.bin/tsc --init
        ```
    -   Create your TypeScript file and compile it
        ```SHELL
        npx tsc index.ts
        ```
    -   If there's no message it was successfully compiled

## `tsconfig.json`

-   File for typescript project compilation
-   Structure

    -   `target` -> JavaScript compilation for the code
    -   `lib` -> Libraries with types available by default
    -   `allowJs` -> Allows to use JavaScript files inside the project
    -   `strict` -> Enforces typeScript settings like not implicit any
    -   `jsx` -> Indicates that jsx code is supported
    -   Example

        ```JSON
        {
        "compilerOptions": {
            "target": "es5",
            "lib": [
            "dom",
            "dom.iterable",
            "esnext"
            ],
            "allowJs": true,
            "skipLibCheck": true,
            "esModuleInterop": true,
            "allowSyntheticDefaultImports": true,
            "strict": true,
            "forceConsistentCasingInFileNames": true,
            "noFallthroughCasesInSwitch": true,
            "module": "esnext",
            "moduleResolution": "node",
            "resolveJsonModule": true,
            "isolatedModules": true,
            "noEmit": true,
            "jsx": "react-jsx"
        },
        "include": [
            "src"
        ]
        }
        ```

## Types

```TS
// Primitives
const muNum: number = 1;
const myStr: string = 'My string';
const yesOrNo: boolean = true;

// Objects
const myStrArr: string[] = ['a', 'b', 'c'];
const myObj: {} = { isGeneric: true }; // Generic object
const myTypedObj: { isGeneric: boolean } = { isGeneric: true }; // Typed object

// Fallback types
const myAny: any = {}; // any is not recommended since allows dynamic typing
const myUnknown: unknown = {}; // unknown can be set as a different type later

// Type inference
let age = 0; // It will be inferred as a number
age = '1'; // Type 'string' is not assignable to type 'number'.

// Union types allow several types in one variable
const nothingYet: undefined | number = undefined; // undefined or number
const nothing: null | string = null; // null or string
const three: null | string | number = null; // null or string or number

// Type alias are a way to create your own types
type User = {
    name: string;
    email: string;
}
const userOne: User = { name: 'Juan', email: 'juan@lol.haha' }

// Functions and function types
const add = (a: number, b: number) => a + b; // Here we can leave the return value empty and it will infer it's a number
function subtract(a: number, b: number) {
    return a - b;
}; // Here too
const myVoid: () => void = () => {}; // void is a return type that returns nothing in the context of functions

// Generics

// A generic type is a type that can be used with a variety of types
function getArray<T>(items: T[]): T[] {
    return new Array().concat(items);
}
const numArray = getArray<number>([1, 2, 3, 4]); // number[]
const strArray = getArray<string>(['a', 'b', 'c']); // string[]
```

##Â Resources

-   [TypeScript docs](https://www.typescriptlang.org/)
